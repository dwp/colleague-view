{% extends "layout.html" %}

{% block pageTitle %}
  Do you want to update the details you have added?
{% endblock %}

{% block header %}
  {% include "/prototype-sprint-wise/ur-13/common/non-telephony/header_keydetail_bar.html" %}
{% endblock %}


{% block footer %}
  {% include "/prototype-sprint-wise/ur-13/common/footer.html" %}
{% endblock %}

{% block beforeContent %}
  {% include "/prototype-sprint-wise/ur-8/common/phase-banner.html" %}
  <a class="govuk-back-link" href="javascript:window.history.back()">Back</a>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
  {% set checkNoteAdded =  data['addNote'] %}
  {% if checkNoteAdded =='' %}
  <!-- Ask to complete session -->
  <form class="form" action="add-more-contact-details" method="post">
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
          
          <!-- ------------------------------ for Phone call ------------------------------ -->
        {% if data['contact-types']== 'A phone call' %}
        <h1 class="govuk-fieldset__heading">
          Do you want to update the details you have added?
        </h1>
        {%endif%}
        <!-- ------------------------------ for letter ------------------------------ -->
        {% if data['contact-types']== 'A letter' %}
        <h1 class="govuk-fieldset__heading">
          Do you want to update the details you have added?
        </h1>
        {%endif%}
        <!-- ------------------------------ for Email ------------------------------ -->
        {% if data['contact-types']== 'An email' %}
        <h1 class="govuk-fieldset__heading">
          Do you want to update the details you have added?
        </h1>
        {%endif%}
        <!-- ------------------------------ for text message ------------------------------ -->
        {% if data['contact-types']== 'Text message to' %}
        <h1 class="govuk-fieldset__heading">
          Do you want to update the details you have added?
        </h1>
        {%endif%}
        <!-- ------------------------------ for A visit or appointment ------------------------------ -->
        {% if data['contact-types']== 'A visit or appointment' %}
        <h1 class="govuk-fieldset__heading">
          Do you want to update the details you have added?
        </h1>
        {%endif%}
        </legend>
        <div class="govuk-radios" data-module="govuk-radios">
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="do-you-want-to-add-more-detail-1" name="do-you-want-to-add-more-detail" type="radio" value="Yes I want to add">
            <label class="govuk-label govuk-radios__label" for="do-you-want-to-add-more-detail-1">
              Add another benefit or query
            </label>
          </div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="do-you-want-to-add-more-detail-2" name="do-you-want-to-add-more-detail" type="radio" value="Add a note">
            <label class="govuk-label govuk-radios__label" for="do-you-want-to-add-more-detail-2">
              Add a note
            </label>
          </div>
          <div class="govuk-radios__divider">or</div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="do-you-want-to-add-more-detail-3" name="do-you-want-to-add-more-detail" type="radio" value="Complete phone call">
            <label class="govuk-label govuk-radios__label" for="do-you-want-to-add-more-detail-3">
              Start service again
            </label>
          </div>
        </div>
      </fieldset>
    </div>
    <button class="govuk-button" data-module="govuk-button">
      Save and continue
    </button>
  </form>
  {%else%} 
  <form class="form" action="add-more-contact-details" method="post">
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
          <!-- ------------------------------ for Phone call ------------------------------ -->
          {% if data['contact-types']== 'A phone call' %}
          <h1 class="govuk-fieldset__heading">
            Do you want to update the details you have added?
          </h1>
          {%endif%}
          <!-- ------------------------------ for letter ------------------------------ -->
          {% if data['contact-types']== 'A letter' %}
          <h1 class="govuk-fieldset__heading">
            Do you want to update the details you have added?
          </h1>
          {%endif%}
          <!-- ------------------------------ for Email ------------------------------ -->
          {% if data['contact-types']== 'An email' %}
          <h1 class="govuk-fieldset__heading">
            Do you want to update the details you have added?
          </h1>
          {%endif%}
          <!-- ------------------------------ for text message ------------------------------ -->
          {% if data['contact-types']== 'Text message to' %}
          <h1 class="govuk-fieldset__heading">
            Do you want to update the details you have added?
          </h1>
          {%endif%}
          <!-- ------------------------------ for A visit or appointment ------------------------------ -->
          {% if data['contact-types']== 'A visit or appointment' %}
          <h1 class="govuk-fieldset__heading">
            Do you want to update the details you have added?
          </h1>
          {%endif%}
        </legend>
        <div class="govuk-radios" data-module="govuk-radios">
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="do-you-want-to-add-more-detail-1" name="do-you-want-to-add-more-detail" type="radio" value="Yes I want to add">
            <label class="govuk-label govuk-radios__label" for="do-you-want-to-add-more-detail-1">
              Add another benefit or query
            </label>
          </div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="do-you-want-to-add-more-detail-2" name="do-you-want-to-add-more-detail" type="radio" value="Change your note">
            <label class="govuk-label govuk-radios__label" for="do-you-want-to-add-more-detail-2">
              Change your note
            </label>
          </div>
          <div class="govuk-radios__divider">or</div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="do-you-want-to-add-more-detail-3" name="do-you-want-to-add-more-detail" type="radio" value="Complete phone call">
            <label class="govuk-label govuk-radios__label" for="do-you-want-to-add-more-detail-3">
              Start service again
            </label>
          </div>
        </div>
      </fieldset>
    </div>
    <button class="govuk-button" data-module="govuk-button">
      Save and continue
    </button>
  </form>
  {%endif%}
  </div>
</div>

  <!-- Added details summary -->
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">
      <div class="govuk-!-width-two-thirds">
        {% if (data['What-type-of-contact']== 'Inbound phone call with') or (data['What-type-of-contact']== 'What-type-of-contact') %}
        <h2 class="govuk-heading-m">You have added details about this call</h2>
        {%endif%}
        {% if (data['What-type-of-contact']== 'Inbound letter from') or (data['What-type-of-contact']== 'Outbound letter to') %}
        <h2 class="govuk-heading-m">You have added details about this letter</h2>
        {%endif%}
        {% if (data['What-type-of-contact']== 'Inbound email from') or (data['What-type-of-contact']== 'Outbound email to') %}
        <h2 class="govuk-heading-m">You have added details about this email</h2>
        {%endif%}
        {% if (data['What-type-of-contact']== '') and (data['contact-types']== 'Text message to') %} 
        <h2 class="govuk-heading-m">You have added details about this message</h2>
        {%endif%}
        {% if (data['What-type-of-contact']== 'Visit from') or (data['What-type-of-contact'] == 'Visit to') %}
        <h2 class="govuk-heading-m">You have added details about this visit</h2>
        {%endif%}

        {% set benefits =  data['what-benefit-discussed-non-telephony'] %}
        {% set questionESA = data['questionAsk-esa'] %}
        {% set questionPIP = data['questionAsk-pip'] %}
        {% set benefitLength =  data['what-benefit-discussed-non-telephony'] | length %}
        {% if benefitLength >1 %}
        <table class="govuk-summary-list govuk-!-margin-bottom-0">
          <tbody class="govuk-summary-list">
            {% for benefitsName in data['what-benefit-discussed-non-telephony'] %}
            <!-- for ESA -->
            {% if benefitsName == 'Employment and Support Allowance' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Employment and Support Allowance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-esa'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsESA in data['contact-type-esa'] %}
                    <li>{{ questionsESA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-esa']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            {% if benefitsName == 'Personal Independence Payment' %}
            <!-- for pip -->
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Personal Independence Payment
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-pip'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsPIP in data['contact-type-pip'] %}
                    <li>{{ questionsPIP }}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                  <p>{{data['contact-type-pip']}}</p>
                  {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for AA -->
            {% if benefitsName == 'Attendance Allowance' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Attendance Allowance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-aa'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsAA in data['contact-type-aa'] %}
                    <li>{{ questionsAA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-aa']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for CA -->
            {% if benefitsName == "Carer's Allowance" %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Carer's Allowance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-ca'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsCA in data['contact-type-ca'] %}
                    <li>{{ questionsCA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-ca']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for DLA -->
            {% if benefitsName == 'Disability Living Allowance 65+' or benefitsName == 'Disability Living Allowance Adult' or benefitsName == 'Disability Living Allowance Child' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                {{benefitsName}}
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-dla'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsDLA in data['contact-type-dla'] %}
                    <li>{{ questionsDLA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-dla']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for Income-based Job Seeker's Allowance -->
            {% if benefitsName == "Income-based Job Seeker's Allowance" %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Income-based Job Seeker's Allowance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-ibjsa'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsIBJSA in data['contact-type-ibjsa'] %}
                    <li>{{ questionsIBJSA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-ibjsa']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for New Style Job Seeker's Allowance -->
            {% if benefitsName == "New Style Job Seeker's Allowance" %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                New Style Job Seeker's Allowance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-nsjsa'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsNSJSA in data['contact-type-nsjsa'] %}
                    <li>{{ questionsNSJSA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-nsjsa']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for UC -->
            {% if benefitsName == 'Universal Credit' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Universal Credit
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-uc'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsUC in data['contact-type-uc'] %}
                    <li>{{ questionsUC or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-uc']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for PC -->
            {% if benefitsName == 'Pension Credit' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Pension Credit
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-pc'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsPC in data['contact-type-pc'] %}
                    <li>{{ questionsPC or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-pc']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for SP -->
            {% if benefitsName == 'State Pension' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                State Pension
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-sp'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsSP in data['contact-type-sp'] %}
                    <li>{{ questionsSP or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-sp']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for WFP -->
            {% if benefitsName == 'Winter Fuel Payment' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Winter Fuel Payment
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-wfp'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsWFP in data['contact-type-wfp'] %}
                    <li>{{ questionsWFP or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-wfp']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for CWP -->
            {% if benefitsName == 'Cold Weather Payment' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Cold Weather Payment
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-cwp'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsCWP in data['contact-type-cwp'] %}
                    <li>{{ questionsCWP or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-cwp']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for BSP -->
            {% if benefitsName == 'Bereavement Support Payment' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Bereavement Support Payment
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-bsp'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsBSP in data['contact-type-bsp'] %}
                    <li>{{ questionsBSP or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-bsp']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for MA -->
            {% if benefitsName == 'Maternity Allowance' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Maternity Allowance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-ma'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsMA in data['contact-type-ma'] %}
                    <li>{{ questionsMA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-ma']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
            <!-- for SDA -->
            {% if benefitsName == 'Severe Disablement Allowance' %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                Severe Disablement Allowance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-sda'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsSDA in data['contact-type-sda'] %}
                    <li>{{ questionsSDA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                <p>{{data['contact-type-sda']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}

            {% if benefitsName == 'General change of circumstance' %}
            <!-- for General CoC -->
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
                General change of circumstance
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type-gCoC'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsgCoC in data['contact-type-gCoC'] %}
                    <li>{{ questionsgCoC }}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                  <p>{{data['contact-type-gCoC']}}</p>
                {%endif%}
              </td>
            </tr>
            {%endif%}
          {% endfor %}
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
              Notes
              </th>
              <td class="govuk-summary-list__value">
                {{ data['addNote'] or "Not provided" }}
              </td>
            </tr>
          </tbody>
        </table>
        {%else%}
        {%if benefitLength == 1 and benefits != 'General information' %}
        <table class="govuk-summary-list govuk-!-margin-bottom-0">
          <tbody class="govuk-summary-list">
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key govuk-!-width-one-third">
                {{ data['what-benefit-discussed-non-telephony'] }}
              </th>
              <td class="govuk-summary-list__value">
                {%if data['contact-type'] | length > 1 %}
                  <ul class="govuk-list govuk-list--bullet">
                    {% for contactTopics in data['contact-type'] %}
                    <li>{{ contactTopics }}</li>
                    {% endfor %}
                  </ul>
                {%else%}
                  <p>{{data['contact-type']}}</p>
                {%endif%}
              </td>
            </tr>
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
              Notes added
              </th>
              <td class="govuk-summary-list__value">
                {{ data['addNote'] or "Not provided" }}
              </td>
            </tr>
          </tbody>
        </table>
        {%else%}

        <table class="govuk-summary-list govuk-!-margin-bottom-0">
          <tbody class="govuk-summary-list">
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key govuk-!-width-one-third">
                {{ data['what-benefit-discussed-non-telephony'] }}
              </th>
              <td class="govuk-summary-list__value">
                {{data['noBenefitReason']}}
              </td>
            </tr>
            <tr class="govuk-summary-list__row">
              <th scope="row" class="govuk-summary-list__key">
              Notes added
              </th>
              <td class="govuk-summary-list__value">
                {{ data['addNote'] or "Not provided" }}
              </td>
            </tr>
          </tbody>
        </table>
        {%endif%}
        {%endif%}
      </div>
    </div>
  </div>

{% endblock %}


