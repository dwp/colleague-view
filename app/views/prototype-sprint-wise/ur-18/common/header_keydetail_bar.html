{% block header %}
<header class="dwp-header" data-header-id="some-id-name" role="banner" data-module="govuk-header">
  <div class="dwp-header__content govuk-width-container">
    <div class="dwp-header__service-name">
      <a href="#" class="dwp-header__link">Colleague View</a>
    </div>
  </div>
</header>

<!-- keydetail bar start from here -->

<section class="dwp-key-details-bar" aria-label="Key details">
  <div class=" govuk-width-container dwp-key-details-bar__key-details">
    <dl class="dwp-key-details-bar__top-block">
      <dt class="govuk-visually-hidden">Name:</dt>
      <dd class="dwp-key-details-bar__primary">
          Christopher Fox
      </dd>
      <dt class="govuk-visually-hidden">National Insurance Number:</dt>
      <dd class="dwp-key-details-bar__secondary">
        {{ data['nino-number-ur-8'] | upper }}
      </dd>
      <dt class="govuk-visually-hidden">Claim status:</dt>
      <dd class="govuk-table__cell dwp-key-details-bar__status govuk-!-margin-0 govuk-!-padding-0">
    </dd>
    </dl>
    <dl class="dwp-key-details-bar__bottom-block {{hideKeyDatailInfo}}">
      <dt class="govuk-visually-hidden">What type of engaement it is</dt>
      <dd>
        {{ data['What-type-of-contact'] }}
      </dd>
      <dt class="govuk-visually-hidden">Who is the engagement with</dt>
      <dd>
    {# Clean raw data to avoid undefined and strip labels #}
    {% set phoneRaw = data['Who-is-the-phone-call-with-ur8'] or '' %}
    {% set phone = phoneRaw | replace('(Customer)', '') | replace('(Partner)', '') | replace('(appointee)', '') | trim %}

    {% set callerRaw = data['Who-is-the-engagement-with'] or '' %}
    {% set caller = callerRaw | replace('(Customer)', '') | replace('(Partner)', '') | replace('(appointee)', '') | trim %}

    {# Join both values with a space only if both exist #}
    {{ [phone, caller] | reject('equalto', '') | join(' ') }}
  </dd>
  </dl>
  </div>
</section>

{% endblock %}
